__NUXT_JSONP__("/experience/advanced/coding-as-building", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV){return {data:[{document:{slug:"coding-as-building",description:"",title:"像盖房子一样写代码",position:2401,category:"经验篇-进阶",toc:[{id:an,depth:ai,text:ao},{id:X,depth:M,text:X},{id:Y,depth:M,text:Y},{id:Z,depth:M,text:Z},{id:_,depth:M,text:_},{id:ap,depth:ai,text:aq},{id:$,depth:M,text:$},{id:ar,depth:ai,text:as}],body:{type:"root",children:[{type:b,tag:aj,props:{id:an},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E5%BD%93%E6%88%91%E5%86%99%E4%B8%80%E4%B8%AA%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E6%96%B9%E6%B3%95%E6%97%B6%E6%88%91%E5%9C%A8%E6%83%B3%E4%BA%9B%E4%BB%80%E4%B9%88",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:ao}]},{type:a,value:e},{type:b,tag:N,props:{className:[O]},children:[{type:b,tag:P,props:{className:[Q,R]},children:[{type:b,tag:G,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u002F\u002F 无论什么方法，都是这样一个结构"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S,C]},children:[{type:a,value:"fn"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T,l]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"比如，我要写一个接口，查询组织下的设备列表 "},{type:b,tag:G,props:{},children:[{type:a,value:"\u002Fapi\u002Fdevice\u002Flist"}]}]},{type:a,value:e},{type:b,tag:V,props:{id:X},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E5%9C%B0%E5%9F%BA",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:X}]},{type:a,value:e},{type:b,tag:N,props:{className:[O]},children:[{type:b,tag:P,props:{className:[Q,R]},children:[{type:b,tag:G,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S,C]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,ab]},children:[{type:a,value:"params"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T,l]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u002F\u002F 传入一些参数"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"["}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"]"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u002F\u002F 返回一个列表"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"我需要哪些参数："}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"用户基本信息（主要是用户 id，用户的组织 id）"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"用户对应的组织基本信息（主要是组织 id，组织管理员 id，层级关系，以及权限逻辑）"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"输出结果很简单，为一个数组。"}]},{type:a,value:e},{type:b,tag:V,props:{id:Y},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E6%B5%87%E7%AD%91",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:Y}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"第一步分析，存在成功和错误（错误类型先不考虑）两种类型的结果。"}]},{type:a,value:e},{type:b,tag:N,props:{className:[O]},children:[{type:b,tag:P,props:{className:[Q,R]},children:[{type:b,tag:G,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ac}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S,C]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ak}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,ab]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T,l]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ac}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"someError"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u002F\u002F 返回错误结果"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"这是一个大概的设想，没有必要将代码写出来。然后润化该思路，写出第一段框架。"}]},{type:a,value:e},{type:b,tag:"adsbygoogle",props:{},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:V,props:{id:Z},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E4%B8%BB%E4%BD%93%E7%BB%93%E6%9E%84",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:Z}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"首先，传入的参数为组织 oid，用户的信息可以通过 session（或其他方式）从内部获得。"}]},{type:a,value:e},{type:b,tag:ae,props:{id:at},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E5%8F%AF%E8%83%BD%E7%9A%84%E4%B8%80%E7%A7%8D%E6%80%9D%E8%B7%AF",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:at}]},{type:a,value:e},{type:b,tag:N,props:{className:[O]},children:[{type:b,tag:P,props:{className:[Q,R]},children:[{type:b,tag:G,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ac}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:af}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ag}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ah}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:av}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aw}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S,C]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ak}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,ab]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T,l]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ax}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ay}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:al}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:af}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aB}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:al}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aG}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ag}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aH}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aM}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aO}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:ae,props:{id:aQ},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E6%8E%A8%E8%8D%90%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:aQ}]},{type:a,value:e},{type:b,tag:N,props:{className:[O]},children:[{type:b,tag:P,props:{className:[Q,R]},children:[{type:b,tag:G,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ac}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:af}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ag}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ah}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:av}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aw}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S,C]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ak}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,ab]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T,l]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ax}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ay}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:al}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:af}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aB}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"!=="}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u002F\u002F 为什么这里不用等于判断：如果等于的话，则当时就需要返回出去，这样的话该方法会有两个成功的 return"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aG}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ag}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aH}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aM}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aO}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:"\n      "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ah}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,k,u]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:V,props:{id:_},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E5%B0%81%E9%A1%B6",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:_}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"完成其他的业务代码。"}]},{type:a,value:e},{type:b,tag:aj,props:{id:ap},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E5%BD%93%E6%88%91%E5%86%99%E4%B8%80%E6%AE%B5%E6%B5%8B%E8%AF%95%E7%9A%84%E6%97%B6%E5%80%99%E6%88%91%E5%9C%A8%E6%83%B3%E4%BA%9B%E4%BB%80%E4%B9%88",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:aq}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"按照上面推荐方式完成代码后，需要进行代码的测试。"}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"首先需要明确业务的流程，理清测试的思路。"}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"成功"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"错误\n"},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"错误 1：用户未加入组织"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"错误 2：传入参数组织不存在"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"错误 3：用户无组织权限"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"主要有两种设计思路："}]},{type:a,value:e},{type:b,tag:V,props:{id:$},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:$}]},{type:a,value:e},{type:b,tag:ae,props:{id:aR},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E6%80%9D%E8%B7%AF%E4%B8%80",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:aR}]},{type:a,value:e},{type:b,tag:aS,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"完成测试用例，覆盖成功的所有情况"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"完成测试用例，覆盖错误 1 的所有情况"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"完成测试用例，覆盖错误 2 的所有情况"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"完成测试用例，覆盖错误 3 的所有情况"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"这是传统的单元测试衍生而来的 BDD 测试方式。"}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"这里测试用例的个数应该为"},{type:b,tag:G,props:{},children:[{type:a,value:"8"}]},{type:a,value:"次："}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"成功：\n"},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"1.当前组织的用户有传入组织 oid"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"2.当前组织的用户未传入组织 oid"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"3-5.上级组织，上上级组织，根级组织的管理员用户传入组织 oid"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:aT}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"7.失败 2：传入参数组织不存在"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"8.失败 3：用户无组织权限"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"其中，测试 3-5 可以优化为一次测试（即根据所有管理员 uid 的数组比较是否包含当前用户 uid），最终优化后的结果应当为"},{type:b,tag:G,props:{},children:[{type:a,value:"6"}]},{type:a,value:"次。"}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"但由于该思路中不明确用户，所以用户行为无法准确表达，在创建测试数据的时候较为困难，不仔细思考分析，无法优化需要创建多少条测试数据。"}]},{type:a,value:e},{type:b,tag:ae,props:{id:aU},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E6%80%9D%E8%B7%AF%E4%BA%8C",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:aU}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"而实际上 BDD 测试为用户行为测试，可以以几类用户的情形分别进行测试。"}]},{type:a,value:e},{type:b,tag:aS,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"模拟一个用户的数据，覆盖成功和可能错误（有可能无法涵盖到所有错误）的所有情况"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"根据未覆盖的部分，再模拟另一个用户的数据，覆盖成功和可能错误（有可能无法涵盖到所有错误）的所有情况"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"以此循环，直至覆盖所有。"}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"用户 1（非组织管理员，查询自己的组织）\n"},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"1.成功（未传入组织 oid）（组织 1）"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"2.成功（传入组织 oid）"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"3.失败 2：传入参数组织不存在"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"4.失败 3：用户无组织权限（组织 2）"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"用户 2（上级某组织管理员）（组织 3）\n"},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"5.成功"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"用户 3（未加入组织用户）\n"},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:aT}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"非常简洁明了的关系，需要 3 个测试用户，3 个组织（上下级关系进行数据复用，一个无权限的组织），即可涵盖所有范围。"}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"最终优化版设计："}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"用户 1（某组织管理员，有下级组织）\n"},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"1.成功（未传入组织 oid，查询自己的组织）"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"2.成功（传入当前的组织 oid（组织 1））"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"3.成功（传入下级的组织 oid（组织 2））"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"4.失败 2：传入参数组织不存在"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"5.失败 3：用户无组织权限"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"用户 2（未加入组织用户）\n"},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"6.失败 1：用户未加入组织（组织 3）"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"两个用户，三个组织。完成所有覆盖。"}]},{type:a,value:e},{type:b,tag:aj,props:{id:ar},children:[{type:b,tag:x,props:{ariaHidden:y,href:"#%E5%BD%93%E6%88%91%E4%BB%A5%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E7%9A%84%E6%97%B6%E5%80%99%E6%88%91%E5%9C%A8%E6%83%B3%E4%BA%9B%E4%BB%80%E4%B9%88",tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:as}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"可以从上述测试思路二中进行反推。"}]},{type:a,value:e},{type:b,tag:m,props:{},children:[{type:a,value:"实际上思路可能是在写代码或者写测试的过程中不断的改进和完善的。"}]},{type:a,value:e},{type:b,tag:v,props:{},children:[{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"如果已经写好了测试正在写代码，可以及时回过头来调整测试；"}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"如果功能写好了又再重新测试，可以在测试优化后再去看逻辑代码是否还有优化的空间。"}]},{type:a,value:e}]}]},dir:"\u002Fzh\u002Fexperience\u002Fadvanced",path:"\u002Fzh\u002Fexperience\u002Fadvanced\u002Fcoding-as-building",extension:".md",createdAt:aV,updatedAt:aV,to:"\u002Fexperience\u002Fadvanced\u002Fcoding-as-building"},prev:{title:"Azure Node.js WebApp",path:"\u002Fzh\u002Fexperience\u002Fazure\u002Fweb-app",to:"\u002Fexperience\u002Fazure\u002Fweb-app"},next:{title:"开源项目翻译正确姿势",path:"\u002Fzh\u002Fexperience\u002Fadvanced\u002Ftranslate",to:"\u002Fexperience\u002Fadvanced\u002Ftranslate"}}],fetch:{},mutations:[]}}("text","element","span","token","\n","punctuation"," ","comment","li","\n  ","keyword","operator","p",".","property-access","(",")","{","}",";","control-flow","ul","\n    ","a","true",-1,"icon","icon-link","function","=","oid","const","code","user","\u002F\u002F 成功","ctx","if"," ctx",3,"div","nuxt-content-highlight","pre","language-js","line-numbers","function-variable","arrow","=\u003E","h3","return","地基","浇筑","主体结构","封顶","设计思路","deviceList","parameter","\u002F\u002F 错误","getDevicesByOid","h4","\u002F\u002F 错误1：用户未加入组织","\u002F\u002F 错误2：传入参数组织不存在","\u002F\u002F 错误3：用户无组织权限",2,"h2","async","===","\n\n  ","当我写一个功能模块方法时我在想些什么","当我写一个功能模块方法时，我在想些什么","当我写一段测试的时候我在想些什么","当我写一段测试的时候，我在想些什么","当我以测试驱动开发的时候我在想些什么","当我以测试驱动开发的时候，我在想些什么","可能的一种思路","\n\n","\u002F\u002F 传入参数： 要查询的组织 oid","\u002F\u002F 能够通过 session 取到的信息： user","\u002F\u002F 用户信息 ctx.user","\u002F\u002F 判断用户是否有组织","number","0","\u002F\u002F 如果不传该参数，查询当前用户组织的设备"," oid ","request","body","oid ","\u002F\u002F 根据oid查询组织信息","\u002F\u002F 判断是否有权限"," checkRights ","await","checkUserOrgRights","uid",","," oid","!","checkRights","推荐的实现方式","思路一","ol","6.失败 1：用户未加入组织","思路二","2021-11-24T07:16:24.316Z")));