__NUXT_JSONP__("/experience/operation/server", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA){return {data:[{document:{slug:"server",description:"",title:"服务器配置",position:2201,category:"经验篇-运维",toc:[{id:H,depth:I,text:H},{id:J,depth:z,text:J},{id:K,depth:I,text:K},{id:L,depth:I,text:L},{id:$,depth:z,text:aa},{id:ab,depth:z,text:ac},{id:ad,depth:z,text:ae},{id:af,depth:z,text:ag},{id:M,depth:I,text:M}],body:{type:"root",children:[{type:b,tag:N,props:{id:H},children:[{type:b,tag:n,props:{href:"#%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:C,props:{id:J},children:[{type:b,tag:n,props:{href:"#%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:J}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"开放接口文档"}]},{type:a,value:c},{type:b,tag:"ul",props:{},children:[{type:a,value:c},{type:b,tag:V,props:{},children:[{type:a,value:"NewRelic: "},{type:b,tag:n,props:{href:ah,rel:[O,P,Q],target:R},children:[{type:a,value:ah}]}]},{type:a,value:c},{type:b,tag:V,props:{},children:[{type:a,value:"阿里云: "},{type:b,tag:n,props:{href:ai,rel:[O,P,Q],target:R},children:[{type:a,value:ai}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:"adsbygoogle",props:{},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:N,props:{id:K},children:[{type:b,tag:n,props:{href:"#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:K}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"adduser xxx\n"},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# 输入密码"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:b,tag:aj,props:{},children:[{type:b,tag:ak,props:{},children:[{type:a,value:al}]}]},{type:a,value:"：还有一个"},{type:b,tag:g,props:{},children:[{type:a,value:"useradd"}]},{type:a,value:"命令，不会创建用户目录。"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:S}]},{type:a,value:" \u002Fetc\u002Fsudoers\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"在"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"root    ALL=(ALL:ALL) ALL\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"后插入一行"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"xxx(用户名)    ALL=(ALL:ALL) ALL\n"}]}]}]},{type:a,value:c},{type:b,tag:N,props:{id:L},children:[{type:b,tag:n,props:{href:"#%E5%88%87%E6%8D%A2%E5%88%B0%E7%94%A8%E6%88%B7%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:L}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"su"}]},{type:a,value:" username\n"}]}]}]},{type:a,value:c},{type:b,tag:C,props:{id:$},children:[{type:b,tag:n,props:{href:"#%E5%AE%89%E8%A3%85-zsh",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:aa}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:D}]},{type:a,value:am},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:D}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:E}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"zsh"}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:an}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"git"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"sh"}]},{type:a,value:" -c "},{type:b,tag:d,props:{className:[e,"string"]},children:[{type:a,value:ao},{type:b,tag:d,props:{className:[e,W]},children:[{type:b,tag:d,props:{className:[e,W]},children:[{type:a,value:"$("}]},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:an}]},{type:a,value:" -fsSL https:\u002F\u002Fraw.github.com\u002Frobbyrussell\u002Foh-my-zsh\u002Fmaster\u002Ftools\u002Finstall.sh"},{type:b,tag:d,props:{className:[e,W]},children:[{type:a,value:")"}]}]},{type:a,value:ao}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:C,props:{id:ab},children:[{type:b,tag:n,props:{href:"#%E9%85%8D%E7%BD%AE-ssh-%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:ac}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"mkdir"}]},{type:a,value:X},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:ap}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,aq]},children:[{type:a,value:"700"}]},{type:a,value:X},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:y}]},{type:a,value:X},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"touch"}]},{type:a,value:Y},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:ap}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,aq]},children:[{type:a,value:"644"}]},{type:a,value:Y},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:S}]},{type:a,value:Y}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"插入你的"},{type:b,tag:g,props:{},children:[{type:a,value:"ssh"}]},{type:a,value:"公钥。"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# 不存在创建（注意是在本地，不是远程服务器）"}]},{type:a,value:"\nssh-keygen\n"},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# 一直按回车，结束"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# 存在直接查看"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"cat"}]},{type:a,value:" ~\u002F.ssh\u002Fid_rsa.pub\n"}]}]}]},{type:a,value:c},{type:b,tag:C,props:{id:ad},children:[{type:b,tag:n,props:{href:"#%E5%AE%89%E8%A3%85-node",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:ae}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"（示例，从官网获取最新版本源码编译安装）"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:y}]},{type:a,value:" ~ "},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"#注意安装目录，最好在用户目录下，其他系统目录可能会有权限问题"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:F}]},{type:a,value:" -c https:\u002F\u002Fnodejs.org\u002Fdist\u002Fv6.4.0\u002Fnode-v6.4.0.tar.gz\n"},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:G}]},{type:a,value:" zxvf node-v6.4.0.tar.gz\n"},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:y}]},{type:a,value:" node-v6.4.0\u002F\n.\u002Fconfigure\n"},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:T}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:T}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:E}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# 安装成功测试"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"node"}]},{type:a,value:ar},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"npm"}]},{type:a,value:ar}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"源码编译安装 Redis、OpenSSL 等步骤基本相同。具体可以参考官方文档。"}]},{type:a,value:c},{type:b,tag:C,props:{id:af},children:[{type:b,tag:n,props:{href:"#nginx-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:ag}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Nginx 1.9.5 之后的版本支持了"},{type:b,tag:g,props:{},children:[{type:a,value:as}]},{type:a,value:"，同时，也取消了对"},{type:b,tag:g,props:{},children:[{type:a,value:"SPDY"}]},{type:a,value:"的支持。"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"以"},{type:b,tag:g,props:{},children:[{type:a,value:as}]},{type:a,value:"模块支持安装为例。"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:F}]},{type:a,value:" -c http:\u002F\u002Fnginx.org\u002Fdownload\u002Fnginx-1.11.3.tar.gz\n"},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:G}]},{type:a,value:" zxvf nginx-1.11.3.tar.gz\n"},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:y}]},{type:a,value:" nginx-1.11.3\u002F\n.\u002Fconfigure --with-pcre --with-http_ssl_module --with-http_v2_module\n"}]}]}]},{type:a,value:c},{type:b,tag:U,props:{id:at},children:[{type:b,tag:n,props:{href:"#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:at}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"1.没装 PCRE"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:".\u002Fconfigure: error: the HTTP rewrite module requires the PCRE library.\nYou can either disable the module by using --without-http_rewrite_module\noption, or install the PCRE library into the system, or build the PCRE library\nstatically from the source with nginx by using --with-pcre=\u003Cpath\u003E option.\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:b,tag:n,props:{href:au},children:[{type:a,value:au}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"查找并下载最新版本 PCRE 源码，并解压"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:F}]},{type:a,value:" -c ftp:\u002F\u002Fftp.csx.cam.ac.uk\u002Fpub\u002Fsoftware\u002Fprogramming\u002Fpcre\u002Fpcre-8.38.tar.gz\n"},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:G}]},{type:a,value:" zxvf pcre-8.38.tar.gz\n"},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:y}]},{type:a,value:" pcre-8.38\u002F\n"},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:Z}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# \u002Fhome\u002Fuser\u002Fnginx-1.11.3\u002Fpcre-8.38"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"修改"},{type:b,tag:g,props:{},children:[{type:a,value:"configure"}]},{type:a,value:"命令为："}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:a,value:_},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:B}]},{type:a,value:"\u002Fhome\u002Fuser\u002Fnginx-1.11.3\u002Fpcre-8.38 --with-http_ssl_module --with-http_v2_module\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"2.没装 OpenSSL"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:".\u002Fconfigure: error: SSL modules require the OpenSSL library.\nYou can either do not enable the modules, or install the OpenSSL library\ninto the system, or build the OpenSSL library statically from the source\nwith nginx by using --with-openssl=\u003Cpath\u003E option.\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:b,tag:n,props:{href:av,rel:[O,P,Q],target:R},children:[{type:a,value:av}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"查找并下载最新版本 OpenSSL 源码，并解压"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:F}]},{type:a,value:" -c https:\u002F\u002Fwww.openssl.org\u002Fsource\u002Fopenssl-1.0.2h.tar.gz\n"},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:G}]},{type:a,value:" zxvf openssl-1.0.2h.tar.gz\n"},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:y}]},{type:a,value:" openssl-1.0.2h\n"},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:Z}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# \u002Fhome\u002Fuser\u002Fnginx-1.11.3\u002Fopenssl-1.0.2h"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:b,tag:aj,props:{},children:[{type:b,tag:ak,props:{},children:[{type:a,value:al}]}]},{type:a,value:"： "},{type:b,tag:g,props:{},children:[{type:a,value:"openssl-1.1.0-pre6"}]},{type:a,value:" 版本经测试无法安装。"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:a,value:_},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:B}]},{type:a,value:aw},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:B}]},{type:a,value:"\u002Fhome\u002Fuser\u002Fnginx-1.11.3\u002Fopenssl-1.0.2h --with-http_ssl_module --with-http_v2_module\n"}]}]}]},{type:a,value:c},{type:b,tag:"ol",props:{start:z},children:[{type:a,value:c},{type:b,tag:V,props:{},children:[{type:a,value:"没装 zlib"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:".\u002Fconfigure: error: the HTTP gzip module requires the zlib library.\nYou can either disable the module by using --without-http_gzip_module\noption, or install the zlib library into the system, or build the zlib library\nstatically from the source with nginx by using --with-zlib=\u003Cpath\u003E option.\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:b,tag:n,props:{href:ax,rel:[O,P,Q],target:R},children:[{type:a,value:ax}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"查找并下载最新版本 Zlib 源码，并解压"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:F}]},{type:a,value:" -c http:\u002F\u002Fzlib.net\u002Fzlib-1.2.8.tar.gz\n"},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:G}]},{type:a,value:" zxvf zlib-1.2.8.tar.gz\n"},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:y}]},{type:a,value:" zlib-1.2.8\n"},{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:Z}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# \u002Fhome\u002Fuser\u002Fnginx-1.11.3\u002Fzlib-1.2.8"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:a,value:_},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:B}]},{type:a,value:aw},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:B}]},{type:a,value:"\u002Fhome\u002Fuser\u002Fnginx-1.11.3\u002Fopenssl-1.0.2h --with-zlib"},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:B}]},{type:a,value:"\u002Fhome\u002Fuser\u002Fnginx-1.11.3\u002Fzlib-1.2.8 --with-http_ssl_module --with-http_v2_module\n"}]}]}]},{type:a,value:c},{type:b,tag:U,props:{id:ay},children:[{type:b,tag:n,props:{href:"#%E5%AE%89%E8%A3%85",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:ay}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:T}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:T}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:E}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:U,props:{id:"apt-get-方式安装-nginx"},children:[{type:b,tag:n,props:{href:"#apt-get-%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85-nginx",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:"apt-get 方式安装 nginx"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,u,v]},children:[{type:a,value:y}]},{type:a,value:" \u002Fetc\u002Fapt\u002F\n"},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:S}]},{type:a,value:az}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"把如下内容粘贴到里边"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"-----BEGIN PGP PUBLIC KEY BLOCK-----\nVersion: GnuPG v2.0.22 (GNU\u002FLinux)\n\nmQENBE5OMmIBCAD+FPYKGriGGf7NqwKfWC83cBV01gabgVWQmZbMcFzeW+hMsgxH\nW6iimD0RsfZ9oEbfJCPG0CRSZ7ppq5pKamYs2+EJ8Q2ysOFHHwpGrA2C8zyNAs4I\nQxnZZIbETgcSwFtDun0XiqPwPZgyuXVm9PAbLZRbfBzm8wR\u002F3SWygqZBBLdQk5TE\nfDR+Eny\u002FM1RVR4xClECONF9UBB2ejFdI1LD45APbP2hsN\u002FpiFByU1t7yK2gpFyRt\n97WzGHn9MV5\u002FTL7AmRPM4pcr3JacmtCnxXeCZ8nLqedoSuHFuhwyDnlAbu8I16O5\nXRrfzhrHRJFM1JnIiGmzZi6zBvH0ItfyX6ttABEBAAG0KW5naW54IHNpZ25pbmcg\na2V5IDxzaWduaW5nLWtleUBuZ2lueC5jb20+iQE+BBMBAgAoAhsDBgsJCAcDAgYV\nCAIJCgsEFgIDAQIeAQIXgAUCV2K1+AUJGB4fQQAKCRCr9b2Ce9m\u002FYloaB\u002F9XGrol\nkocm7l\u002FtsVjaBQCteXKuwsm4XhCuAQ6YAwA1L1UheGOG\u002Faa2xJvrXE8X32tgcTjr\nKoYoXWcdxaFjlXGTt6jV85qRguUzvMOxxSEM2Dn115etN9piPl0Zz+4rkx8+2vJG\nF+eMlruPXg\u002Fzd88NvyLq5gGHEsFRBMVufYmHtNfcp4okC1klWiRIRSdp4QY1wdrN\n1O+\u002FoCTl8Bzy6hcHjLIq3aoumcLxMjtBoclc\u002F5OTioLDwSDfVx7rWyfRhcBzVbwD\noe\u002FPD08AoAA6fxXvWjSxy+dGhEaXoTHjkCbz\u002Fl6NxrK3JFyauDgU4K4MytsZ1HDi\nMgMW8hZXxszoICTTiQEcBBABAgAGBQJOTkelAAoJEKZP1bF62zmo79oH\u002F1XDb29S\nYtWp+MTJTPFEwlWRiyRuDXy3wBd\u002FBpwBRIWfWzMs1gnCjNjk0EVBVGa2grvy9Jtx\nJKMd6l\u002FPWXVucSt+U\u002F+GO8rBkw14SdhqxaS2l14v6gyMeUrSbY3XfToGfwHC4sa\u002F\nThn8X4jFaQ2XN5dAIzJGU1s5JA0tjEzUwCnmrKmyMlXZaoQVrmORGjCuH0I0aAFk\nRS0UtnB9HPpxhGVbs24xXZQnZDNbUQeulFxS4uP3OLDBAeCHl+v4t\u002FuotIad8v6J\nSO93vc1evIje6lguE81HHmJn9noxPItvOvSMb2yPsE8mH4cJHRTFNSEhPW6ghmlf\nWa9ZwiVX5igxcvaIRgQQEQIABgUCTk5b0gAKCRDs8OkLLBcgg1G+AKCnacLb\u002F+W6\ncflirUIExgZdUJqoogCeNPVwXiHEIVqithAM1pdY\u002FgcaQZmIRgQQEQIABgUCTk5f\nYQAKCRCpN2E5pSTFPnNWAJ9gUozyiS+9jf2rJvqmJSeWuCgVRwCcCUFhXRCpQO2Y\nVa3l3WuB+rgKjsQ=\n=EWWI\n-----END PGP PUBLIC KEY BLOCK-----\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"然后"},{type:b,tag:g,props:{},children:[{type:a,value:":wq"}]},{type:a,value:"保存"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:" apt-key "},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:"add"}]},{type:a,value:az},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:S}]},{type:a,value:" sources.list\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"在最后一行加入下面两行的内容："}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"deb http:\u002F\u002Fnginx.org\u002Fpackages\u002Fubuntu\u002F trusty nginx\ndeb-src http:\u002F\u002Fnginx.org\u002Fpackages\u002Fubuntu\u002F trusty nginx\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"再更新,并安装:"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:D}]},{type:a,value:am},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:D}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:E}]},{type:a,value:" nginx\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"如果解压报错,执行:"}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:"# 替换 deb 文件路径"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:" dpkg -i --force-overwrite  \u002Fvar\u002Fcache\u002Fapt\u002Farchives\u002Fnginx_1.12.1-1~trusty_amd64.deb\n"},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:x}]},{type:a,value:o},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:D}]},{type:a,value:" -f "},{type:b,tag:d,props:{className:[e,f]},children:[{type:a,value:E}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:U,props:{id:"配置-nginx"},children:[{type:b,tag:n,props:{href:"#%E9%85%8D%E7%BD%AE-nginx",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:"配置 Nginx"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"参考修改安装目录下的默认配置 "},{type:b,tag:g,props:{},children:[{type:a,value:"conf\u002Fnginx.conf"}]},{type:a,value:"："}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"#user  nobody;\nworker_processes auto;\nworker_rlimit_nofile 100000;\n\n#pid        logs\u002Fnginx.pid;\n\nevents {\n    worker_connections 10240;\n    multi_accept on;\n    use epoll;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application\u002Foctet-stream;\n\n    sendfile        on;\n    keepalive_timeout  65;\n\n    # 从项目载入nginx配置\n    # include \u002Fhome\u002Fuser\u002Fproject\u002Fconf\u002Fnginx.conf;\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"HTTP\u002F2 项目配置："}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"server {\n        listen 80;\n        server_name example.com;\n        add_header Strict-Transport-Security max-age=15768000;\n        return 301 https:\u002F\u002Fexample.com$request_uri;\n}\n\nserver {\n        listen       443 ssl http2;\n        server_name  example.com;\n\n        # ssl_dhparam        \u002Fhome\u002Fuser\u002Fproject\u002Fconfig\u002Fdhparam.pem;\n        ssl_certificate      \u002Fhome\u002Fuser\u002Fproject\u002Fconfig\u002Fssl.crt;\n        ssl_certificate_key  \u002Fhome\u002Fuser\u002Fproject\u002Fconfig\u002Fssl.key;\n\n        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA:!CAMELLIA;\n        ssl_prefer_server_ciphers on;\n        ssl_session_cache shared:SSL:10m;\n        ssl_session_timeout 10m;\n        add_header Strict-Transport-Security \"max-age=31536000;\";\n        #add_header  X-Content-Type-Options \"nosniff\";\n        #add_header X-Frame-Options DENY;\n\n        access_log off;\n        error_log \u002Fhome\u002Fuser\u002Flogs\u002Fexample.com.error.log crit;\n\n        location \u002F {\n                if ($http_user_agent = Mozilla\u002F4.0){\n                  return 503;\n                }\n                proxy_set_header X-Real-IP $remote_addr;\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header Host $host;\n                proxy_set_header X-NginX-Proxy true;\n                proxy_pass http:\u002F\u002F127.0.0.1:8888\u002F;\n                proxy_redirect off;\n        }\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:N,props:{id:M},children:[{type:b,tag:n,props:{href:"#%E9%85%8D%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:M}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"文件位置： "},{type:b,tag:g,props:{},children:[{type:a,value:"\u002Fetc\u002Frc.local"}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"示例："}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"#!\u002Fbin\u002Fsh -e\n#\n# rc.local\n#\n# This script is executed at the end of each multiuser runlevel.\n# Make sure that the script will \"exit 0\" on success or any other\n# value on error.\n#\n# In order to enable or disable this script just change the execution\n# bits.\n#\n# By default this script does nothing.\n\n\u002Fusr\u002Fbin\u002Fnginx &\nsleep 1\nsudo -u willin \u002Fproject\u002Fpath redis &\nexit 0\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Node.js 项目，使用"},{type:b,tag:g,props:{},children:[{type:a,value:"PM2"}]},{type:a,value:"工具："}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"pm2 startup\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"根据界面提示，如："}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,t]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"[PM2] You have to run this command as root. Execute the following command:\n      sudo su -c \"env PATH=$PATH:\u002Fusr\u002Flocal\u002Fbin pm2 startup linux -u username --hp \u002Fhome\u002Fusername\"\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"执行相应代码。"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"如果已经添加过开机自启动，更新自启项目："}]},{type:a,value:c},{type:b,tag:i,props:{className:[j]},children:[{type:b,tag:k,props:{className:[l,m]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"pm2 dump\npm2 save\n"}]}]}]}]},dir:"\u002Fzh\u002Fexperience\u002Foperation",path:"\u002Fzh\u002Fexperience\u002Foperation\u002Fserver",extension:".md",createdAt:aA,updatedAt:aA,to:"\u002Fexperience\u002Foperation\u002Fserver"},prev:{title:"代码细节处理",path:"\u002Fzh\u002Fexperience\u002Fproject\u002Fuser\u002Fparticulars",to:"\u002Fexperience\u002Fproject\u002Fuser\u002Fparticulars"},next:{title:"PM2 守护进程",path:"\u002Fzh\u002Fexperience\u002Foperation\u002Fpm2",to:"\u002Fexperience\u002Foperation\u002Fpm2"}}],fetch:{},mutations:[]}}("text","element","\n","span","token","function","code","p","div","nuxt-content-highlight","pre","line-numbers","language-bash","a"," ","true",-1,"icon","icon-link","language-text","builtin","class-name","comment","sudo","cd",3,"operator","=","h3","apt-get","install","wget","tar","常用工具",2,"性能监控","创建用户","切换到用户安装环境","配置开机自启动","h2","nofollow","noopener","noreferrer","_blank","vi","make","h4","li","variable"," ~\u002F.ssh\n"," authorized_keys\n","pwd",".\u002Fconfigure --with-pcre","安装-zsh","安装 zsh","配置-ssh-免密码登录","配置 ssh 免密码登录","安装-node","安装 node","nginx-安装配置","Nginx 安装配置","https:\u002F\u002Frpm.newrelic.com\u002Fapi\u002Fexplore\u002Fapplications\u002Flist","https:\u002F\u002Fhelp.aliyun.com\u002Fdocument_detail\u002F28617.html","strong","em","注"," update\n","curl","\"","chmod","number"," -v\n","HTTP\u002F2","异常处理","ftp:\u002F\u002Fftp.csx.cam.ac.uk\u002Fpub\u002Fsoftware\u002Fprogramming\u002Fpcre\u002F","https:\u002F\u002Fwww.openssl.org\u002Fsource\u002F","\u002Fhome\u002Fuser\u002Fnginx-1.11.3\u002Fpcre-8.38 --with-openssl","http:\u002F\u002Fwww.zlib.net\u002F","安装"," nginx_signing.key\n","2022-07-06T01:19:14.553Z")));